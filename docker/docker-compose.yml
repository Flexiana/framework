version: "3.3"

services:
  mysql:
    profiles: ["all", "mysql"]
    image: mysql/mysql-server:latest
    environment:
      - MYSQL_ROOT_PASSWORD
    ports:
      - "3306:3306"
    command:
      [--character-set-server=utf8mb4, --collation-server=utf8mb4_unicode_ci]
    volumes:
        # - ./sql-scripts:/sql # I don't know too much about volumes(May I share this?). Ask or research about this
        - db-data:/var/lib/mysql/data

  postgresql:
    profiles: ["all", "postgresql"]
    build:
      context: .
      dockerfile: postgresql.dockerfile
    # environment:
    #   POSTGRES_DB: framework
    volumes:
        #- ./sql-scripts:/sql
        - db-data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

volumes:
#   ./sql-scripts:/sql:
  db-data:
