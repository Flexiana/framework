<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Contribution</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/xiana.css" /></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="welcome.html"><div class="inner"><span>Xiana framework</span></div></a></li><li class="depth-1 "><a href="conventions.html"><div class="inner"><span>Conventions</span></div></a></li><li class="depth-1 "><a href="tutorials.html"><div class="inner"><span>Tutorials</span></div></a></li><li class="depth-1 "><a href="modules.html"><div class="inner"><span>Modules</span></div></a></li><li class="depth-1 "><a href="interceptors.html"><div class="inner"><span>Interceptors implemented in Xiana</span></div></a></li><li class="depth-1  current"><a href="contribution.html"><div class="inner"><span>Contribution</span></div></a></li><li class="depth-1 "><a href="getting-started.html"><div class="inner"><span>How to make a Todo app using Xiana</span></div></a></li><li class="depth-1 "><a href="How-To.html"><div class="inner"><span>How to</span></div></a></li><li class="depth-1 "><a href="Development-Guide.html"><div class="inner"><span>Development guide</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>xiana</span></div></div></li><li class="depth-2 branch"><a href="xiana.coercion.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coercion</span></div></a></li><li class="depth-2 branch"><a href="xiana.commons.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commons</span></div></a></li><li class="depth-2 branch"><a href="xiana.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="xiana.cookies.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cookies</span></div></a></li><li class="depth-2"><a href="xiana.db.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></a></li><li class="depth-3"><a href="xiana.db.migrate.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>migrate</span></div></a></li><li class="depth-2 branch"><a href="xiana.handler.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-2 branch"><a href="xiana.hash.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hash</span></div></a></li><li class="depth-2"><a href="xiana.interceptor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interceptor</span></div></a></li><li class="depth-3 branch"><a href="xiana.interceptor.error.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>error</span></div></a></li><li class="depth-3 branch"><a href="xiana.interceptor.muuntaja.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>muuntaja</span></div></a></li><li class="depth-3 branch"><a href="xiana.interceptor.queue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>queue</span></div></a></li><li class="depth-3"><a href="xiana.interceptor.wrap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wrap</span></div></a></li><li class="depth-2 branch"><a href="xiana.mail.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>mail</span></div></a></li><li class="depth-2 branch"><a href="xiana.rbac.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rbac</span></div></a></li><li class="depth-2"><a href="xiana.route.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>route</span></div></a></li><li class="depth-3"><a href="xiana.route.helpers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>helpers</span></div></a></li><li class="depth-2 branch"><a href="xiana.scheduler.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>scheduler</span></div></a></li><li class="depth-2 branch"><a href="xiana.session.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>session</span></div></a></li><li class="depth-2 branch"><a href="xiana.sse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sse</span></div></a></li><li class="depth-2 branch"><a href="xiana.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2 branch"><a href="xiana.webserver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webserver</span></div></a></li><li class="depth-2"><a href="xiana.websockets.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websockets</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><p><img src="resources/images/Xiana.png" width="242" /></p>
<h1><a href="#contribution" id="contribution"></a>Contribution</h1>
<ul>
<li><a href="#development-dependencies">Development dependencies</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#deps">Deps</a></li>
<li><a href="#releasing">Releasing</a></li>
</ul>
<h2><a href="#development-dependencies" id="development-dependencies"></a>Development dependencies</h2>
<h3><a href="#mandatory" id="mandatory"></a>Mandatory</h3>
<ul>
<li>Clojure 1.10</li>
<li>Postgresql &gt;= 11.5</li>
<li>Clojure cli &gt;= 1.11.1.1155</li>
<li>Docker &gt;= 19.03.11</li>
<li>Docker-compose &gt;= 1.21.0</li>
</ul>
<h3><a href="#libraries" id="libraries"></a>Libraries</h3>
<h4><a href="#mandatory" id="mandatory"></a>Mandatory</h4>
<table>
<thead>
<tr><th> Name                            </th><th> Version </th><th> Related             </th></tr>
</thead>
<tbody>
<tr><td> funcool/cuerdas                 </td><td> RELEASE </td><td> String manipulation </td></tr>
<tr><td> metosin/reitit                  </td><td> 0.5.12  </td><td> Routes              </td></tr>
<tr><td> potemkin/potemkin               </td><td> 0.4.5   </td><td> Helper              </td></tr>
<tr><td> com.draines/postal              </td><td> 2.0.4   </td><td> Email               </td></tr>
<tr><td> duct/server.http.jetty          </td><td> 0.2.1   </td><td> WebServer           </td></tr>
<tr><td> seancorfield/next.jdbc          </td><td> 1.1.613 </td><td> WebServer           </td></tr>
<tr><td> honeysql/honeysql               </td><td> 1.0.444 </td><td> PostGreSQL          </td></tr>
<tr><td> nilenso/honeysql-postgres       </td><td> 0.2.6   </td><td> PostGreSQL          </td></tr>
<tr><td> org.postgresql/postgresql       </td><td> 42.2.2  </td><td> PostGreSQL          </td></tr>
<tr><td> crypto-password/crypto-password </td><td> 0.2.1   </td><td> Security            </td></tr>
</tbody>
</table>
<h4><a href="#optional" id="optional"></a>Optional</h4>
<table>
<thead>
<tr><th> Name                </th><th> Version </th><th> Provide </th></tr>
</thead>
<tbody>
<tr><td> clj-kondo/clj-kondo </td><td> RELEASE </td><td> Tests   </td></tr>
</tbody>
</table>
<h2><a href="#setup" id="setup"></a>Setup</h2>
<pre><code class="language-shell">$ git clone git@github.com:Flexiana/framework.git; cd framework
$ ./script/auto.sh -y all
</code></pre>
<p>The first command will clone <code>Flexiana/framework</code> repository and jump to its directory. The second command calls <code>auto.sh</code> script to perform the following sequence of steps:</p>
<ol>
<li>Download the necessary docker images</li>
<li>Instantiate the database container</li>
<li>Import the initial SQL schema: <code>./docker/sql-scripts/init.sql</code></li>
<li>Populate the new schema with ‘fake’ data from: <code>./docker/sql-scripts/test.sql</code></li>
<li>Call <code>clj -X:test</code> that will download the necessary <em>Clojure</em> dependencies and executes unitary tests.</li>
</ol>
<p>See <code>./script/auto.sh help</code> for more advanced options.</p>
<p>Remember it’s necessary to have <code>docker</code> &amp; <code>docker-compose</code> installed in your host machine. Docker daemon should be running. The chain of commands fails otherwise. It should also be noted that after the first installation everything will be cached preventing unnecessary rework, it’s possible to run only the tests, if your development environment is already up, increasing the overall productivity.</p>
<pre><code class="language-shell">./script/auto.sh -y tests
</code></pre>
<h2><a href="#releasing" id="releasing"></a>Releasing</h2>
<h3><a href="#install-locally" id="install-locally"></a>Install locally</h3>
<pre><code class="language-shell">clj -M:install
</code></pre>
<h3><a href="#deploying-a-release" id="deploying-a-release"></a>Deploying a release</h3>
<ul>
<li>Set up a new version number in <code>release.edn</code> eg: <code>"0.5.0-rc2"</code></li>
<li>Make a git TAG with <code>v</code> prefix, like <code>v0.5.0-rc2</code></li>
<li>Push it and wait for deployment to clojars</li>
</ul>
<h2><a href="#executing-examples-tests" id="executing-examples-tests"></a>Executing example’s tests</h2>
<ul>
<li>Be sure all examples has the same framework version as it is in <code>release.edn</code> as dependency</li>
<li>Execute <code>./example-tests.sh</code> script. It will install the actual version of xiana, and go through the examples folder for <code>check-style</code> and <code>lein test</code>.</li>
</ul>
</div></div></div></body></html>